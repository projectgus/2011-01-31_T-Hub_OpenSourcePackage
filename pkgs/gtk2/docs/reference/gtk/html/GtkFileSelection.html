<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>GtkFileSelection</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="GTK+ Reference Manual"><link rel="up" href="SelectorWidgets.html" title="Selectors (File/Font/Color/Input Devices)"><link rel="previous" href="GtkColorSelectionDialog.html" title="GtkColorSelectionDialog"><link rel="next" href="GtkFileChooser.html" title="GtkFileChooser"><link rel="part" href="gtk.html" title="Part I. GTK+ Overview"><link rel="refentry" href="gtk-building.html" title="Compiling the GTK+ libraries"><link rel="refentry" href="gtk-compiling.html" title="Compiling GTK+ Applications"><link rel="refentry" href="gtk-running.html" title="Running GTK+ Applications"><link rel="refentry" href="gtk-windows.html" title="Using GTK+ on Windows"><link rel="refentry" href="gtk-framebuffer.html" title="Using GTK+ on the Framebuffer"><link rel="refentry" href="gtk-x11.html" title="Using GTK+ on the X Window System"><link rel="refentry" href="gtk-resources.html" title="Mailing lists and bug reports"><link rel="refentry" href="gtk-question-index.html" title="Common Questions"><link rel="part" href="gtkbase.html" title="Part II. GTK+ Core Reference"><link rel="refentry" href="gtk-General.html" title="Main loop and Events"><link rel="refentry" href="gtk-Keyboard-Accelerators.html" title="Accelerator Groups"><link rel="refentry" href="gtk-Accelerator-Maps.html" title="Accelerator Maps"><link rel="refentry" href="gtk-Clipboards.html" title="Clipboards"><link rel="refentry" href="gtk-Drag-and-Drop.html" title="Drag and Drop"><link rel="refentry" href="GtkIconTheme.html" title="GtkIconTheme"><link rel="refentry" href="gtk-Stock-Items.html" title="Stock Items"><link rel="refentry" href="gtk-Themeable-Stock-Images.html" title="Themeable Stock Images"><link rel="refentry" href="gtk-Resource-Files.html" title="Resource Files"><link rel="refentry" href="GtkSettings.html" title="Settings"><link rel="refentry" href="gtk-Bindings.html" title="Bindings"><link rel="refentry" href="gtk-Standard-Enumerations.html" title="Standard Enumerations"><link rel="refentry" href="gtk-Graphics-Contexts.html" title="Graphics Contexts"><link rel="refentry" href="GtkStyle.html" title="Styles"><link rel="refentry" href="gtk-Selections.html" title="Selections"><link rel="refentry" href="gtk-Feature-Test-Macros.html" title="Version Information"><link rel="refentry" href="gtk-Signals.html" title="Signals"><link rel="refentry" href="gtk-Types.html" title="Types"><link rel="part" href="gtkobjects.html" title="Part III. GTK+ Widgets and Objects"><link rel="chapter" href="ch01.html" title="Object Hierarchy"><link rel="chapter" href="WindowWidgets.html" title="Windows"><link rel="refentry" href="GtkDialog.html" title="GtkDialog"><link rel="refentry" href="GtkInvisible.html" title="GtkInvisible"><link rel="refentry" href="GtkMessageDialog.html" title="GtkMessageDialog"><link rel="refentry" href="GtkWindow.html" title="GtkWindow"><link rel="refentry" href="GtkWindowGroup.html" title="GtkWindowGroup"><link rel="chapter" href="DisplayWidgets.html" title="Display Widgets"><link rel="refentry" href="GtkAccelLabel.html" title="GtkAccelLabel"><link rel="refentry" href="GtkImage.html" title="GtkImage"><link rel="refentry" href="GtkLabel.html" title="GtkLabel"><link rel="refentry" href="GtkProgressBar.html" title="GtkProgressBar"><link rel="refentry" href="GtkStatusbar.html" title="GtkStatusbar"><link rel="chapter" href="ButtonWidgets.html" title="Buttons and Toggles"><link rel="refentry" href="GtkButton.html" title="GtkButton"><link rel="refentry" href="GtkCheckButton.html" title="GtkCheckButton"><link rel="refentry" href="GtkRadioButton.html" title="GtkRadioButton"><link rel="refentry" href="GtkToggleButton.html" title="GtkToggleButton"><link rel="chapter" href="NumericEntry.html" title="Numeric/Text Data Entry"><link rel="refentry" href="GtkEntry.html" title="GtkEntry"><link rel="refentry" href="GtkEntryCompletion.html" title="GtkEntryCompletion"><link rel="refentry" href="GtkHScale.html" title="GtkHScale"><link rel="refentry" href="GtkVScale.html" title="GtkVScale"><link rel="refentry" href="GtkSpinButton.html" title="GtkSpinButton"><link rel="refentry" href="GtkEditable.html" title="GtkEditable"><link rel="chapter" href="TextWidgetObjects.html" title="Multiline Text Editor"><link rel="refentry" href="TextWidget.html" title="Text Widget Overview"><link rel="refentry" href="gtk-GtkTextIter.html" title="GtkTextIter"><link rel="refentry" href="GtkTextMark.html" title="GtkTextMark"><link rel="refentry" href="GtkTextBuffer.html" title="GtkTextBuffer"><link rel="refentry" href="GtkTextTag.html" title="GtkTextTag"><link rel="refentry" href="GtkTextTagTable.html" title="GtkTextTagTable"><link rel="refentry" href="GtkTextView.html" title="GtkTextView"><link rel="chapter" href="TreeWidgetObjects.html" title="Tree and List Widget"><link rel="refentry" href="TreeWidget.html" title="Tree and List Widget Overview"><link rel="refentry" href="GtkTreeModel.html" title="GtkTreeModel"><link rel="refentry" href="GtkTreeSelection.html" title="GtkTreeSelection"><link rel="refentry" href="GtkTreeViewColumn.html" title="GtkTreeViewColumn"><link rel="refentry" href="GtkTreeView.html" title="GtkTreeView"><link rel="refentry" href="gtk-GtkTreeView-drag-and-drop.html" title="GtkTreeView drag-and-drop"><link rel="refentry" href="GtkTreeSortable.html" title="GtkTreeSortable"><link rel="refentry" href="GtkTreeModelSort.html" title="GtkTreeModelSort"><link rel="refentry" href="GtkTreeModelFilter.html" title="GtkTreeModelFilter"><link rel="refentry" href="GtkCellLayout.html" title="GtkCellLayout"><link rel="refentry" href="GtkCellRenderer.html" title="GtkCellRenderer"><link rel="refentry" href="GtkCellEditable.html" title="GtkCellEditable"><link rel="refentry" href="GtkCellRendererPixbuf.html" title="GtkCellRendererPixbuf"><link rel="refentry" href="GtkCellRendererText.html" title="GtkCellRendererText"><link rel="refentry" href="GtkCellRendererToggle.html" title="GtkCellRendererToggle"><link rel="refentry" href="GtkListStore.html" title="GtkListStore"><link rel="refentry" href="GtkTreeStore.html" title="GtkTreeStore"><link rel="chapter" href="MenusAndCombos.html" title="Menus, Combo Box, Toolbar"><link rel="refentry" href="GtkComboBox.html" title="GtkComboBox"><link rel="refentry" href="GtkComboBoxEntry.html" title="GtkComboBoxEntry"><link rel="refentry" href="GtkMenu.html" title="GtkMenu"><link rel="refentry" href="GtkMenuBar.html" title="GtkMenuBar"><link rel="refentry" href="GtkMenuItem.html" title="GtkMenuItem"><link rel="refentry" href="GtkMenuShell.html" title="GtkMenuShell"><link rel="refentry" href="GtkImageMenuItem.html" title="GtkImageMenuItem"><link rel="refentry" href="GtkRadioMenuItem.html" title="GtkRadioMenuItem"><link rel="refentry" href="GtkCheckMenuItem.html" title="GtkCheckMenuItem"><link rel="refentry" href="GtkSeparatorMenuItem.html" title="GtkSeparatorMenuItem"><link rel="refentry" href="GtkTearoffMenuItem.html" title="GtkTearoffMenuItem"><link rel="refentry" href="GtkToolbar.html" title="GtkToolbar"><link rel="refentry" href="GtkToolItem.html" title="GtkToolItem"><link rel="refentry" href="GtkSeparatorToolItem.html" title="GtkSeparatorToolItem"><link rel="refentry" href="GtkToolButton.html" title="GtkToolButton"><link rel="refentry" href="GtkToggleToolButton.html" title="GtkToggleToolButton"><link rel="refentry" href="GtkRadioToolButton.html" title="GtkRadioToolButton"><link rel="chapter" href="Actions.html" title="Action-based menus and toolbars"><link rel="refentry" href="GtkUIManager.html" title=" 
GtkUIManager"><link rel="refentry" href="GtkActionGroup.html" title="GtkActionGroup"><link rel="refentry" href="GtkAction.html" title="GtkAction"><link rel="refentry" href="GtkToggleAction.html" title="GtkToggleAction"><link rel="refentry" href="GtkRadioAction.html" title="GtkRadioAction"><link rel="chapter" href="SelectorWidgets.html" title="Selectors (File/Font/Color/Input Devices)"><link rel="refentry" href="GtkColorButton.html" title="GtkColorButton"><link rel="refentry" href="GtkColorSelection.html" title="GtkColorSelection"><link rel="refentry" href="GtkColorSelectionDialog.html" title="GtkColorSelectionDialog"><link rel="refentry" href="GtkFileSelection.html" title="GtkFileSelection"><link rel="refentry" href="GtkFileChooser.html" title="GtkFileChooser"><link rel="refentry" href="GtkFileChooserDialog.html" title="GtkFileChooserDialog"><link rel="refentry" href="GtkFileChooserWidget.html" title="GtkFileChooserWidget"><link rel="refentry" href="gtk-gtkfilefilter.html" title="GtkFileFilter"><link rel="refentry" href="GtkFontButton.html" title="GtkFontButton"><link rel="refentry" href="GtkFontSelection.html" title="GtkFontSelection"><link rel="refentry" href="GtkFontSelectionDialog.html" title="GtkFontSelectionDialog"><link rel="refentry" href="GtkInputDialog.html" title="GtkInputDialog"><link rel="chapter" href="LayoutContainers.html" title="Layout Containers"><link rel="refentry" href="GtkAlignment.html" title="GtkAlignment"><link rel="refentry" href="GtkAspectFrame.html" title="GtkAspectFrame"><link rel="refentry" href="GtkHBox.html" title="GtkHBox"><link rel="refentry" href="GtkVBox.html" title="GtkVBox"><link rel="refentry" href="GtkHButtonBox.html" title="GtkHButtonBox"><link rel="refentry" href="GtkVButtonBox.html" title="GtkVButtonBox"><link rel="refentry" href="GtkFixed.html" title="GtkFixed"><link rel="refentry" href="GtkHPaned.html" title="GtkHPaned"><link rel="refentry" href="GtkVPaned.html" title="GtkVPaned"><link rel="refentry" href="GtkLayout.html" title="GtkLayout"><link rel="refentry" href="GtkNotebook.html" title="GtkNotebook"><link rel="refentry" href="GtkTable.html" title="GtkTable"><link rel="refentry" href="GtkExpander.html" title="GtkExpander"><link rel="chapter" href="Ornaments.html" title="Ornaments"><link rel="refentry" href="GtkFrame.html" title="GtkFrame"><link rel="refentry" href="GtkHSeparator.html" title="GtkHSeparator"><link rel="refentry" href="GtkVSeparator.html" title="GtkVSeparator"><link rel="chapter" href="ScrollingWidgets.html" title="Scrolling"><link rel="refentry" href="GtkHScrollbar.html" title="GtkHScrollbar"><link rel="refentry" href="GtkVScrollbar.html" title="GtkVScrollbar"><link rel="refentry" href="GtkScrolledWindow.html" title="GtkScrolledWindow"><link rel="chapter" href="MiscObjects.html" title="Miscellaneous"><link rel="refentry" href="GtkAdjustment.html" title="GtkAdjustment"><link rel="refentry" href="GtkArrow.html" title="GtkArrow"><link rel="refentry" href="GtkCalendar.html" title="GtkCalendar"><link rel="refentry" href="GtkDrawingArea.html" title="GtkDrawingArea"><link rel="refentry" href="GtkEventBox.html" title="GtkEventBox"><link rel="refentry" href="GtkHandleBox.html" title="GtkHandleBox"><link rel="refentry" href="GtkIMContextSimple.html" title="GtkIMContextSimple"><link rel="refentry" href="GtkIMMulticontext.html" title="GtkIMMulticontext"><link rel="refentry" href="GtkSizeGroup.html" title="GtkSizeGroup"><link rel="refentry" href="GtkTooltips.html" title="GtkTooltips"><link rel="refentry" href="GtkViewport.html" title="GtkViewport"><link rel="refentry" href="GtkAccessible.html" title="GtkAccessible"><link rel="chapter" href="AbstractObjects.html" title="Abstract Base Classes"><link rel="refentry" href="GtkBin.html" title="GtkBin"><link rel="refentry" href="GtkBox.html" title="GtkBox"><link rel="refentry" href="GtkButtonBox.html" title="GtkButtonBox"><link rel="refentry" href="GtkContainer.html" title="GtkContainer"><link rel="refentry" href="GtkItem.html" title="GtkItem"><link rel="refentry" href="GtkMisc.html" title="GtkMisc"><link rel="refentry" href="GtkObject.html" title="GtkObject"><link rel="refentry" href="GtkPaned.html" title="GtkPaned"><link rel="refentry" href="GtkRange.html" title="GtkRange"><link rel="refentry" href="GtkScale.html" title="GtkScale"><link rel="refentry" href="GtkScrollbar.html" title="GtkScrollbar"><link rel="refentry" href="GtkSeparator.html" title="GtkSeparator"><link rel="refentry" href="GtkWidget.html" title="GtkWidget"><link rel="refentry" href="GtkIMContext.html" title="GtkIMContext"><link rel="chapter" href="PlugSocket.html" title="Cross-process Embedding"><link rel="refentry" href="GtkPlug.html" title="GtkPlug"><link rel="refentry" href="GtkSocket.html" title="GtkSocket"><link rel="chapter" href="SpecialObjects.html" title="Special-purpose features"><link rel="refentry" href="GtkCurve.html" title="GtkCurve"><link rel="refentry" href="GtkGammaCurve.html" title="GtkGammaCurve"><link rel="refentry" href="GtkRuler.html" title="GtkRuler"><link rel="refentry" href="GtkHRuler.html" title="GtkHRuler"><link rel="refentry" href="GtkVRuler.html" title="GtkVRuler"><link rel="chapter" href="DeprecatedObjects.html" title="Deprecated"><link rel="refentry" href="GtkCList.html" title="GtkCList"><link rel="refentry" href="GtkCTree.html" title="GtkCTree"><link rel="refentry" href="GtkCombo.html" title="GtkCombo"><link rel="refentry" href="GtkItemFactory.html" title="GtkItemFactory"><link rel="refentry" href="GtkList.html" title="GtkList"><link rel="refentry" href="GtkListItem.html" title="GtkListItem"><link rel="refentry" href="GtkOldEditable.html" title="GtkOldEditable"><link rel="refentry" href="GtkOptionMenu.html" title="GtkOptionMenu"><link rel="refentry" href="GtkPixmap.html" title="GtkPixmap"><link rel="refentry" href="GtkPreview.html" title="GtkPreview"><link rel="refentry" href="GtkProgress.html" title="GtkProgress"><link rel="refentry" href="GtkText.html" title="GtkText"><link rel="refentry" href="GtkTipsQuery.html" title="GtkTipsQuery"><link rel="refentry" href="GtkTree.html" title="GtkTree"><link rel="refentry" href="GtkTreeItem.html" title="GtkTreeItem"><link rel="part" href="migrating.html" title="Part IV. Migrating from Previous Versions of GTK+"><link rel="chapter" href="gtk-migrating-checklist.html" title="Migration Checklist"><link rel="refentry" href="gtk-changes-1-2.html" title="Changes from 1.0 to 1.2"><link rel="refentry" href="gtk-changes-2-0.html" title="Changes from 1.2 to 2.0"><link rel="chapter" href="gtk-migrating-GtkFileChooser.html" title="Migrating from GtkFileSelection to GtkFileChooser"><link rel="chapter" href="gtk-migrating-GtkAction.html" title="Migrating from old menu and toolbar systems to GtkAction"><link rel="chapter" href="gtk-migrating-GtkComboBox.html" title="Migrating from GtkOptionMenu and GtkCombo to GtkComboBox and GtkComboBoxEntry"><link rel="part" href="pt05.html" title="Part V. GTK+ Tools"><link rel="refentry" href="gtk-query-immodules-2.0.html" title="gtk-query-immodules-2.0"><link rel="glossary" href="glossary.html" title="Glossary"><link rel="index" href="ix01.html" title="Index"><link rel="section" href="GtkFileSelection.html#id3221198" title="Object Hierarchy"><link rel="section" href="GtkFileSelection.html#id3221262" title="Implemented Interfaces"><link rel="section" href="GtkFileSelection.html#id3221280" title="Properties"><link rel="section" href="GtkFileSelection.html#id3221343" title="Description"><link rel="section" href="GtkFileSelection.html#id3221472" title="Details"><link rel="section" href="GtkFileSelection.html#id3222620" title="Properties"><link rel="section" href="GtkFileSelection.html#id3222741" title="See Also"><meta name="generator" content="GTK-Doc V1.2 (XML mode)"><link rel="stylesheet" href="style.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle"><td><a accesskey="p" href="GtkColorSelectionDialog.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td><td><a accesskey="u" href="SelectorWidgets.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td><td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td><th width="100%" align="center">GTK+ Reference Manual</th><td><a accesskey="n" href="GtkFileChooser.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td></tr></table><div class="refentry" lang="en"><a name="GtkFileSelection"></a><div class="titlepage"><div></div><div></div></div><div class="refnamediv"><h2><span class="refentrytitle">GtkFileSelection</span></h2><p>GtkFileSelection &#8212; prompt the user for a file or directory name.</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">

#include &lt;gtk/gtk.h&gt;


struct      <a href="GtkFileSelection.html#GtkFileSelection-struct">GtkFileSelection</a>;
<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  <a href="GtkFileSelection.html#gtk-file-selection-new">gtk_file_selection_new</a>          (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *title);
void        <a href="GtkFileSelection.html#gtk-file-selection-set-filename">gtk_file_selection_set_filename</a> (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *filename);
G_CONST_RETURN <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>* <a href="GtkFileSelection.html#gtk-file-selection-get-filename">gtk_file_selection_get_filename</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);
void        <a href="GtkFileSelection.html#gtk-file-selection-complete">gtk_file_selection_complete</a>     (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *pattern);
void        <a href="GtkFileSelection.html#gtk-file-selection-show-fileop-buttons">gtk_file_selection_show_fileop_buttons</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);
void        <a href="GtkFileSelection.html#gtk-file-selection-hide-fileop-buttons">gtk_file_selection_hide_fileop_buttons</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);
<a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>**     <a href="GtkFileSelection.html#gtk-file-selection-get-selections">gtk_file_selection_get_selections</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);
void        <a href="GtkFileSelection.html#gtk-file-selection-set-select-multiple">gtk_file_selection_set_select_multiple</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> select_multiple);
<a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="GtkFileSelection.html#gtk-file-selection-get-select-multiple">gtk_file_selection_get_select_multiple</a>
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);


</pre></div><div class="refsect1" lang="en"><a name="id3221198"></a><h2>Object Hierarchy</h2><pre class="synopsis">

  <a
href="../gobject/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>
   +----<a href="GtkObject.html" title="GtkObject">GtkObject</a>
         +----<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>
               +----<a href="GtkContainer.html" title="GtkContainer">GtkContainer</a>
                     +----<a href="GtkBin.html" title="GtkBin">GtkBin</a>
                           +----<a href="GtkWindow.html" title="GtkWindow">GtkWindow</a>
                                 +----<a href="GtkDialog.html" title="GtkDialog">GtkDialog</a>
                                       +----GtkFileSelection
</pre></div><div class="refsect1" lang="en"><a name="id3221262"></a><h2>Implemented Interfaces</h2><p>
GtkFileSelection implements
 AtkImplementorIface.</p></div><div class="refsect1" lang="en"><a name="id3221280"></a><h2>Properties</h2><pre class="synopsis">

  "<a href="GtkFileSelection.html#GtkFileSelection--filename">filename</a>"             <a
href="../gobject/gobject-Standard-Parameter-and-Value-Types.html#gchararray"
>gchararray</a>            : Read / Write
  "<a href="GtkFileSelection.html#GtkFileSelection--select-multiple">select-multiple</a>"      <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>              : Read / Write
  "<a href="GtkFileSelection.html#GtkFileSelection--show-fileops">show-fileops</a>"         <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>              : Read / Write
</pre></div><div class="refsect1" lang="en"><a name="id3221343"></a><h2>Description</h2><p>
<a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a> should be used to retrieve file or directory names from 
the user. It will create a new dialog window containing a directory list, 
and a file list corresponding to the current working directory. The filesystem 
can be navigated using the directory list or the drop-down history menu. 
Alternatively, the TAB key can be used to navigate using filename 
completion - common in text based editors such as emacs and jed.
</p><p>
File selection dialogs are created with a call to <a href="GtkFileSelection.html#gtk-file-selection-new"><tt class="function">gtk_file_selection_new()</tt></a>.
</p><p>
The default filename can be set using <a href="GtkFileSelection.html#gtk-file-selection-set-filename"><tt class="function">gtk_file_selection_set_filename()</tt></a> and the selected filename retrieved using <a href="GtkFileSelection.html#gtk-file-selection-get-filename"><tt class="function">gtk_file_selection_get_filename()</tt></a>.
</p><p>
Use <a href="GtkFileSelection.html#gtk-file-selection-complete"><tt class="function">gtk_file_selection_complete()</tt></a> to display files and directories
that match a given pattern. This can be used for example, to show only
*.txt files, or only files beginning with gtk*.
</p><p>
Simple file operations; create directory, delete file, and rename file, are available from buttons at the top of the dialog. These can be hidden using <a href="GtkFileSelection.html#gtk-file-selection-hide-fileop-buttons"><tt class="function">gtk_file_selection_hide_fileop_buttons()</tt></a> and shown again using <a href="GtkFileSelection.html#gtk-file-selection-show-fileop-buttons"><tt class="function">gtk_file_selection_show_fileop_buttons()</tt></a>.
</p><p>
</p><div class="example"><a name="id3221458"></a><p class="title"><b>Example 1. Getting a filename from the user.</b></p><pre class="programlisting">

/* The file selection widget and the string to store the chosen filename */

void store_filename (GtkWidget *widget, gpointer user_data) {
   GtkWidget *file_selector = GTK_WIDGET (user_data);
   const gchar *selected_filename;

   selected_filename = gtk_file_selection_get_filename (GTK_FILE_SELECTION (file_selector));
   g_print ("Selected filename: %s\n", selected_filename);
}

void create_file_selection (void) {

   GtkWidget *file_selector;

   /* Create the selector */
   
   file_selector = gtk_file_selection_new ("Please select a file for editing.");
   
   g_signal_connect (GTK_FILE_SELECTION (file_selector)-&gt;ok_button,
                     "clicked",
                     G_CALLBACK (store_filename),
                     file_selector);
   			   
   /* Ensure that the dialog box is destroyed when the user clicks a button. */
   
   g_signal_connect_swapped (GTK_FILE_SELECTION (file_selector)-&gt;ok_button,
                             "clicked",
                             G_CALLBACK (gtk_widget_destroy), 
                             file_selector);

   g_signal_connect_swapped (GTK_FILE_SELECTION (file_selector)-&gt;cancel_button,
                             "clicked",
                             G_CALLBACK (gtk_widget_destroy),
                             file_selector); 
   
   /* Display that dialog */
   
   gtk_widget_show (file_selector);
}

</pre></div><p>
</p></div><div class="refsect1" lang="en"><a name="id3221472"></a><h2>Details</h2><div class="refsect2" lang="en"><a name="id3221503"></a><h3><a name="GtkFileSelection-struct"></a>struct GtkFileSelection</h3><a class="indexterm" name="id3221514"></a><pre class="programlisting">struct GtkFileSelection {
  GtkWidget *dir_list;
  GtkWidget *file_list;
  GtkWidget *selection_entry;
  GtkWidget *selection_text;
  GtkWidget *main_vbox;
  GtkWidget *ok_button;
  GtkWidget *cancel_button;
  GtkWidget *help_button;
  GtkWidget *history_pulldown;
  GtkWidget *history_menu;
  GList     *history_list;
  GtkWidget *fileop_dialog;
  GtkWidget *fileop_entry;
  gchar     *fileop_file;
  gpointer   cmpl_state;
  
  GtkWidget *fileop_c_dir;
  GtkWidget *fileop_del_file;
  GtkWidget *fileop_ren_file;
  
  GtkWidget *button_area;
  GtkWidget *action_area;

};
</pre><p>
The <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a> struct contains the following <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> fields:

</p><div class="informaltable"><table width="100%" border="0"><colgroup><col><col></colgroup><tbody><tr><td>*fileop_dialog;</td><td>the dialog box used to display the <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>. It can be customized by adding/removing widgets from it using the standard <a href="GtkDialog.html" title="GtkDialog"><span class="type">GtkDialog</span></a> functions.</td></tr><tr><td>*ok_button, *cancel_button;</td><td>the two main buttons that signals should be connected to in order to perform an action when the user hits either OK or Cancel.</td></tr><tr><td>*history_pulldown;</td><td>the <a href="GtkOptionMenu.html" title="GtkOptionMenu"><span class="type">GtkOptionMenu</span></a> used to create the drop-down directory history.</td></tr><tr><td>*fileop_c_dir, *fileop_del_file, *fileop_ren_file;</td><td>the buttons that appear at the top of the file selection dialog. These "operation buttons" can be hidden and redisplayed with <a href="GtkFileSelection.html#gtk-file-selection-hide-fileop-buttons"><tt class="function">gtk_file_selection_hide_fileop_buttons()</tt></a> and  <a href="GtkFileSelection.html#gtk-file-selection-show-fileop-buttons"><tt class="function">gtk_file_selection_show_fileop_buttons()</tt></a> respectively.</td></tr></tbody></table></div><p>

</p></div><hr><div class="refsect2" lang="en"><a name="id3221685"></a><h3><a name="gtk-file-selection-new"></a>gtk_file_selection_new ()</h3><a class="indexterm" name="id3221696"></a><pre class="programlisting"><a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  gtk_file_selection_new          (const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *title);</pre><p>
Creates a new file selection dialog box. By default it will contain a <a href="GtkTreeView.html" title="GtkTreeView"><span class="type">GtkTreeView</span></a> of the application's current working directory, and a file listing. Operation buttons that allow the user to create a directory, delete files and rename files, are also present.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>title</tt></i> :</span></td><td>a message that will be placed in the file requestor's titlebar.
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td>the new file selection.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3221766"></a><h3><a name="gtk-file-selection-set-filename"></a>gtk_file_selection_set_filename ()</h3><a class="indexterm" name="id3221778"></a><pre class="programlisting">void        gtk_file_selection_set_filename (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *filename);</pre><p>
Sets a default path for the file requestor. If <i class="parameter"><tt>filename</tt></i> includes a
directory path, then the requestor will open with that path as its
current working directory.
</p><p>
This has the consequence that in order to open the requestor with a 
working directory and an empty filename, <i class="parameter"><tt>filename</tt></i> must have a trailing
directory separator.
</p><p>
The encoding of <i class="parameter"><tt>filename</tt></i> is the on-disk encoding, which
may not be UTF-8. See <a
href="../glib/glib-Character-Set-Conversion.html#g-filename-from-utf8"
><tt class="function">g_filename_from_utf8()</tt></a>.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td> a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>filename</tt></i> :</span></td><td>  a string to set as the default file name.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3221902"></a><h3><a name="gtk-file-selection-get-filename"></a>gtk_file_selection_get_filename ()</h3><a class="indexterm" name="id3221914"></a><pre class="programlisting">G_CONST_RETURN <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>* gtk_file_selection_get_filename
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);</pre><p>
This function returns the selected filename in the on-disk encoding
(see <a
href="../glib/glib-Character-Set-Conversion.html#g-filename-from-utf8"
><tt class="function">g_filename_from_utf8()</tt></a>), which may or may not be the same as that
used by GTK+ (UTF-8). To convert to UTF-8, call <a
href="../glib/glib-Character-Set-Conversion.html#g-filename-to-utf8"
><tt class="function">g_filename_to_utf8()</tt></a>.
The returned string points to a statically allocated buffer and
should be copied if you plan to keep it around.
</p><p>
If no file is selected then the selected directory path is returned.</p><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td> a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> currently-selected filename in the on-disk encoding.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222017"></a><h3><a name="gtk-file-selection-complete"></a>gtk_file_selection_complete ()</h3><a class="indexterm" name="id3222029"></a><pre class="programlisting">void        gtk_file_selection_complete     (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             const <a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a> *pattern);</pre><p>
Will attempt to match <i class="parameter"><tt>pattern</tt></i> to a valid filenames or subdirectories in the current directory. If a match can be made, the matched filename will appear in the text entry field of the file selection dialog.
If a partial match can be made, the "Files" list will contain those
file names which have been partially matched, and the "Folders"
list those directories which have been partially matched.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td>a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.
</td></tr><tr><td><span class="term"><i class="parameter"><tt>pattern</tt></i> :</span></td><td>a string of characters which may or may not match any filenames in the current directory.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222119"></a><h3><a name="gtk-file-selection-show-fileop-buttons"></a>gtk_file_selection_show_fileop_buttons ()</h3><a class="indexterm" name="id3222131"></a><pre class="programlisting">void        gtk_file_selection_show_fileop_buttons
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);</pre><p>
Shows the file operation buttons, if they have previously been hidden. The rest of the widgets in the dialog will be resized accordingly.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td>a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222189"></a><h3><a name="gtk-file-selection-hide-fileop-buttons"></a>gtk_file_selection_hide_fileop_buttons ()</h3><a class="indexterm" name="id3222202"></a><pre class="programlisting">void        gtk_file_selection_hide_fileop_buttons
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);</pre><p>
Hides the file operation buttons that normally appear at the top of the dialog. Useful if you wish to create a custom file selector, based on <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td>a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.


</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222269"></a><h3><a name="gtk-file-selection-get-selections"></a>gtk_file_selection_get_selections ()</h3><a class="indexterm" name="id3222282"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gchar"
>gchar</a>**     gtk_file_selection_get_selections
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);</pre><p>
Retrieves the list of file selections the user has made in the dialog box.
This function is intended for use when the user can select multiple files
in the file list. The first file in the list is equivalent to what
<a href="GtkFileSelection.html#gtk-file-selection-get-filename"><tt class="function">gtk_file_selection_get_filename()</tt></a> would return.
</p><p>
The filenames are in the encoding of <a
href="../glib/glib-Character-Set-Conversion.html#g-filename-from-utf8"
><tt class="function">g_filename_from_utf8()</tt></a>, which may or 
may not be the same as that used by GTK+ (UTF-8). To convert to UTF-8, call
<a
href="../glib/glib-Character-Set-Conversion.html#g-filename-to-utf8"
><tt class="function">g_filename_to_utf8()</tt></a> on each string.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td> a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> a newly-allocated <tt class="literal">NULL</tt>-terminated array of strings. Use
<a
href="../glib/glib-String-Utility-Functions.html#g-strfreev"
><tt class="function">g_strfreev()</tt></a> to free it.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222410"></a><h3><a name="gtk-file-selection-set-select-multiple"></a>gtk_file_selection_set_select_multiple ()</h3><a class="indexterm" name="id3222422"></a><pre class="programlisting">void        gtk_file_selection_set_select_multiple
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel,
                                             <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a> select_multiple);</pre><p>
Sets whether the user is allowed to select multiple files in the file list.
Use <a href="GtkFileSelection.html#gtk-file-selection-get-selections"><tt class="function">gtk_file_selection_get_selections()</tt></a> to get the list of selected files.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td> a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>
</td></tr><tr><td><span class="term"><i class="parameter"><tt>select_multiple</tt></i> :</span></td><td> whether or not the user is allowed to select multiple
files in the file list.
</td></tr></tbody></table></div></div><hr><div class="refsect2" lang="en"><a name="id3222518"></a><h3><a name="gtk-file-selection-get-select-multiple"></a>gtk_file_selection_get_select_multiple ()</h3><a class="indexterm" name="id3222530"></a><pre class="programlisting"><a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gtk_file_selection_get_select_multiple
                                            (<a href="GtkFileSelection.html" title="GtkFileSelection">GtkFileSelection</a> *filesel);</pre><p>
Determines whether or not the user is allowed to select multiple files in
the file list. See <a href="GtkFileSelection.html#gtk-file-selection-set-select-multiple"><tt class="function">gtk_file_selection_set_select_multiple()</tt></a>.</p><p>

</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><i class="parameter"><tt>filesel</tt></i> :</span></td><td> a <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>
</td></tr><tr><td><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></td><td> <tt class="literal">TRUE</tt> if the user is allowed to select multiple files in the
file list
</td></tr></tbody></table></div></div></div><div class="refsect1" lang="en"><a name="id3222620"></a><h2>Properties</h2><div class="refsect2" lang="en"><a name="id3222626"></a><h3><a name="GtkFileSelection--filename"></a>The "<tt class="literal">filename</tt>" property</h3><pre class="programlisting">  "filename"             <a
href="../gobject/gobject-Standard-Parameter-and-Value-Types.html#gchararray"
>gchararray</a>            : Read / Write</pre><p>The currently selected filename.</p><p>Default value: NULL</p></div><hr><div class="refsect2" lang="en"><a name="id3222663"></a><h3><a name="GtkFileSelection--select-multiple"></a>The "<tt class="literal">select-multiple</tt>" property</h3><pre class="programlisting">  "select-multiple"      <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>              : Read / Write</pre><p>Whether to allow multiple files to be selected.</p><p>Default value: FALSE</p></div><hr><div class="refsect2" lang="en"><a name="id3222702"></a><h3><a name="GtkFileSelection--show-fileops"></a>The "<tt class="literal">show-fileops</tt>" property</h3><pre class="programlisting">  "show-fileops"         <a
href="../glib/glib-Basic-Types.html#gboolean"
>gboolean</a>              : Read / Write</pre><p>Whether buttons for creating/manipulating files should be displayed.</p><p>Default value: FALSE</p></div></div><div class="refsect1" lang="en"><a name="id3222741"></a><h2>See Also</h2><p>
</p><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr><td><span class="term"><a href="GtkDialog.html" title="GtkDialog"><span class="type">GtkDialog</span></a></span></td><td><p>Add your own widgets into the <a href="GtkFileSelection.html" title="GtkFileSelection"><span class="type">GtkFileSelection</span></a>.</p></td></tr></tbody></table></div><p>
</p></div></div><table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle"><td align="left"><a accesskey="p" href="GtkColorSelectionDialog.html"><b>&lt;&lt; GtkColorSelectionDialog</b></a></td><td align="right"><a accesskey="n" href="GtkFileChooser.html"><b>GtkFileChooser &gt;&gt;</b></a></td></tr></table></body></html>
